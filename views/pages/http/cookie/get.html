<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>learn</title>
<script type="text/javascript">
// 端口号不被作为cookie的读取条件
// 协议(http,https)除非在设置cookie时有特殊声明，否则也不被作为cookie的读取条件

// domain对读取cookie的约束：
// test.com下的cookie，a.test.com下也可以读到

// path对读取cookie的约束：
// /a下的cookie，/a/b下也可以读到

// /a下的cookie，/a/下也可以读到

// /a/下的cookie，/a下不可以读到

// /下的cookie，在所有path（首页的path即为/）下都可以读到

// 越新设的cookie，在document.cookie的字符串中越靠后
function getCookie (key) {
  var cookies = document.cookie ? document.cookie.split('; ') : [];
  var cookieMap = {};
  cookies
    .forEach(function (cookie) {
      var part = cookie.split('=');
      cookieMap[decodeURIComponent(part[0])] = decodeURIComponent(part[1]);
    });
  return cookieMap[key];
}

// 当发送ajax请求时，
//  如果是同源请求(协议，主机名，端口号全部一致)，则会把请求地址下可以获得的cookie组装成一个消息头一起发送
//  如果不是同源请求，即使请求地址下有cookie也不会组装成一个消息头一起发送
</script>
</head>
<body>

</body>
</html>