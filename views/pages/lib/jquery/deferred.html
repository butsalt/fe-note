<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>learn</title>
<script type="text/javascript" src="/assets/lib/jquery/2.1.3/jquery.js"></script>
<script type="text/javascript">
  var def = $.Deferred();
  setTimeout(function () {
    console.log('1 done');
    def.reject();
  }, 2000);
  
  var def2 = $.Deferred();
  setTimeout(function () {
    console.log('2 done');
    def2.reject();
  }, 3000);
  // promise对象没有resolve,reject方法,即不能通知事件的完成
  var promise = def.promise();
  var promise2 = def2.promise();
  // 只有当2个deferred都调用了resolve时才执行done中的函数
  $.when(promise,promise2)
    .done(function () {
      console.log(arguments);
    });
</script>
</head>
<body>

</body>
</html>