<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>fe-note</title>
<script type="text/javascript">
function printSeq(seqNum) {
  console.log(seqNum);
}

printSeq(1);
var regex = /"([^"]*)"/g;
var text = '\"Joker!\"';
// ä½¿ç”¨$æ¥å¼•ç”¨æ‹¬å·å†…åŒ¹é…çš„æ–‡æœ¬ ^æ˜¯å–åçš„æ„æ€
console.log(text.replace(regex, 'â€œ$1â€'));

printSeq(2);
var regex = /\S+/g;
var text = 'foo bar';
// ä½¿ç”¨$&æ¥å¼•ç”¨æ»¡è¶³åŒ¹é…è§„åˆ™çš„æ•´ä¸ªæ–‡æœ¬
console.log(text.replace(regex, 'â€œ$&â€'));

printSeq(3);
// å¦‚æœæ˜¯gï¼Œæ›¿æ¢æ‰€æœ‰æ»¡è¶³è§„åˆ™çš„å­—ç¬¦ä¸²
// å¦‚æœä¸æ˜¯gï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªæ»¡è¶³åŒ¹é…è§„åˆ™çš„å­—ç¬¦ä¸²
regex = /s/;
text = 'ssssssssss';
console.log(text.replace(regex,'A'));

printSeq(4);
regex = /S"([^"]*)"S/;
text = 'S"Joker!\"S';
// å¦‚æœæ˜¯gï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰æ»¡è¶³åŒ¹é…çš„å­—ç¬¦ä¸²
// å¦‚æœä¸æ˜¯gï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªè¿”å›æ»¡è¶³åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªè¿”å›æ»¡è¶³åŒ¹é…çš„å­—ç¬¦ä¸²ä¸‹çš„ç¬¬ä¸€ä¸ªå­æ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²(\1)ï¼Œ...
console.log(text.match(regex));

printSeq(5);
// å¦‚æœæ˜¯gï¼Œè°ƒç”¨æ—¶å¦‚æœå­˜åœ¨åŒ¹é…çš„ï¼Œè®°å½•åŒ¹é…å­—ç¬¦ä¸²çš„index+1çš„ä½ç½®(lastIndex)ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨æ—¶ä»è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™å°†lastIndexç½®ä¸º0
// å¦‚æœä¸æ˜¯gï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ä»å¤´å¼€å§‹æŸ¥ï¼Œå³lastIndexå§‹ç»ˆä¸º0
regex = /test(\d)/g;
text = 'test0test1';
console.log(regex.exec(text));
console.log(regex.exec(text));
console.log(regex.exec(text));
console.log(regex.exec(text));

printSeq(6);
regex = /(start)(\w)+(end)/;
test = 'startabcend';
// \2åŒ¹é…åˆ°çš„æ˜¯\wè¿™ä¸ªè§„åˆ™æœ€åä¸€æ¬¡é‡å¤åŒ¹é…åˆ°çš„\w
console.log(regex.exec(test));

// å¦‚æœæ˜¯gï¼Œè°ƒç”¨æ—¶å¦‚æœå­˜åœ¨åŒ¹é…çš„ï¼Œè®°å½•åŒ¹é…å­—ç¬¦ä¸²çš„index+1çš„ä½ç½®(lastIndex)ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨æ—¶ä»è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™å°†lastIndexç½®ä¸º0
// å¦‚æœä¸æ˜¯gï¼Œæ¯æ¬¡æ£€æµ‹éƒ½æ˜¯ä»å¤´å¼€å§‹æŸ¥ï¼Œå³lastIndexå§‹ç»ˆä¸º0
printSeq(7);
regex = /test(\d)/g;
text = 'test0test1';
console.log(regex.test(text));
console.log(regex.test(text));
console.log(regex.test(text));

printSeq(8);
// åŒ¹é…çš„å­—ç¬¦ä¸²åä¸€å®šè¦è·Ÿç€å†’å·
// (?=)å†…çš„å­—ç¬¦ä¸²ä¸æ•è·
// (?=)åº”å‡ºç°åœ¨ä¸€ä¸ªå®Œæ•´è¡¨è¾¾å¼çš„ç»“å°¾
regex = /Javascript(?=:)/;
text = 'Javascript:';
console.log(regex.exec(text));

printSeq(9);
// åŒ¹é…çš„å­—ç¬¦ä¸²åä¸€å®šä¸èƒ½è·Ÿç€å†’å·
// (?!)å†…çš„å­—ç¬¦ä¸²ä¸æ•è·
regex = /Javascript(?!:)/;
text = 'Javascripts';
console.log(regex.exec(text));

printSeq(10);
// åŒ¹é…çš„å­—ç¬¦ä¸²åä¸€å®šè¦ä»¥#å¼€å§‹
// (?<=)å†…çš„å­—ç¬¦ä¸²ä¸æ•è·
regex = /(?<=#)123/;
text = '#123';
console.log(regex.exec(text));

printSeq(11);
// åŒ¹é…çš„å­—ç¬¦ä¸²åä¸€å®šä¸ä»¥#å¼€å§‹
// (?<!)å†…çš„å­—ç¬¦ä¸²ä¸æ•è·
regex = /(?<!#)123/;
text = '123';
console.log(regex.exec(text));

printSeq(12);
// \bå®šä½åˆ°å•è¯è¾¹ç•Œ
regex = /\b\w+\b/g;
text = 'JavaS cooker';
console.log(text.match(regex));

// å¦‚æœæ²¡æœ‰mï¼Œå°†^å®šä½åˆ°å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œå°†$å®šä½åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾
// å¦‚æœæœ‰mï¼Œå°†^å®šä½åˆ°æ¯è¡Œçš„å¼€å¤´ï¼Œ$å®šä½åˆ°æ¯è¡Œçš„ç»“å°¾
printSeq(13);
regex = /^\w+$/gm;
text = 'Java\nScript';
console.log(text.match(regex));

printSeq(14);
// matchæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²  p1,p2...æ˜¯åŒ¹é…å„ä¸ªå­æ¨¡å¼çš„å­—ç¬¦ä¸²  offsetæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®  stringæ˜¯æ•´ä¸ªå­—ç¬¦ä¸²
// returnç”¨æ¥æ›¿æ¢match
function replacer(match, p1, p2, p3, offset, string) {
  return [p1, p2, p3].join(' - ');
}
console.log('abc12345#$*%'.replace(/([^\d]*)(\d*)([^\w]*)/, replacer));

printSeq(15);
// *? +? {1,5}?å®ç°çš„æ˜¯æœ€å°åŒ¹é…ï¼Œ"big"å·²ç»æ»¡è¶³äº†æ­£åˆ™è¡¨è¾¾å¼çš„è¦æ±‚ï¼Œæ‰€ä»¥åŒ¹é…çš„æ˜¯"big"
regex = /".*?"/;
text = '"big""boy"';
console.log(regex.exec(text));

printSeq(16);
// æ­£åˆ™æ€»ä¼šå¯»æ‰¾å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå¯èƒ½åŒ¹é…çš„ä½ç½®
// åœ¨å½“å‰å¸¸è§ä¸‹ç¬¬ä¸€ä¸ªå¯èƒ½åŒ¹é…çš„ä½ç½®æ˜¯ä¸‹æ ‡0å¤„
regex = /\d+?a/;
text = '123a';
console.log(regex.exec(text));

printSeq(17);
// (?:expression)ï¼Œä¸æ•è·è¿™ä¸ªexpressionåˆ†ç»„ï¼Œå¦‚æœexpressionå†…è¿˜æœ‰åˆ†ç»„ä¾æ—§å¯ä»¥è¢«æ­£å¸¸æ•è·
regex = /^\d(?:\d(\d))$/;
text = '123';
console.log(regex.exec(text));

printSeq(18);
// \1å¯ä»¥å¼•ç”¨åˆ°ç¬¬ä¸€ä¸ªæ‹¬å·ä¸­è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
regex = /(")([^"]+)(\1)/;
text = '"guud"';
console.log(regex.exec(text));

printSeq(19);
// ç»™åˆ†ç»„å‘½å
regex = /(?<first>\w+) (?<second>\w+)/;
text = 'hello world';
console.log(regex.exec(text));

printSeq(20);
// ç”¨unicodeå±æ€§è¿›è¡ŒåŒ¹é…
regex = /\p{Emoji_Presentation}+/u;
text = 'Hello ğŸ‘¦ğŸ‘§ !';
console.log(regex.exec(text));
</script>
</head>
<body>
</body>
</html>