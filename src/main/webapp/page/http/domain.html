<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>learn</title>
<script type="text/javascript">
(function () {
  //判断两个页面同源规则:
  //  两个页面的依据完全匹配

  //依据获取规则:
  //  页面重设domain前，location.host(即主机名:端口号，端口号缺省为80)被作为判断同源依据
  //  页面重设domian后，document.domain被作为判断同源依据

  //document.domain重设规则:
  //  重设后丢失端口号
  //  用于重设的domain必须是原始document.domain本身或是它的后缀子串
  //  举个例子：
  //  原始: go.test.com
  //  重设: go.test.com  --good
  //  重设: test.com  --good
  //  重设: back.test.com  --bad
  //  重设: go.test.com:7070  --bad
  console.log(document.domain === 'localhost');
})();
</script>
</head>
<body>
</body>
</html>