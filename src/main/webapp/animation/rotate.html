<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>learn</title>
<style type="text/css">
	*{
		margin:0;
		padding:0;
	}
	html,body{
		height:100%;
	}
	body{
		display:flex;
		align-items:center;
		justify-content:center;
	}
	
	.triangle{
		width: 0;
		height: 0;
		border-style: solid;
		border-width: 6px 12px 6px 0;
		border-color: transparent #aaa transparent transparent;
		transition:all 800ms;
	}
	div:hover>.triangle{
		border-color: transparent #fff transparent transparent;
	}
</style>
<script type="text/javascript" src="../scripts/dd.js"></script>
<script type="text/javascript" src="../scripts/Tween.js"></script>
<script type="text/javascript" src="../scripts/jquery-2.1.3.js"></script>
<script type="text/javascript">
$(function(){
	var el = dd.el().css('background-color','#444');
	el.css('box-shadow','5px 5px 1px rgba(33,33,33,0.4)');
	el.css('border-radius','20px');
	el.css('overflow','hidden');
	el.width('200px').height('360px');
	document.body.appendChild(el.dom);
	
	var title = el.el().width('100%').height('20px').css('background-color','#333');
	title.el().css('margin-left','15px').css('color','#ddd').html('Title');
	
	var cnt = el.el().width('100%').height('320px').relative().css('perspective','300px');
	cnt = cnt.el().fit().css('transform-style','preserve-3d');
	cnt.css('transition','-webkit-transform 800ms');
	cnt.css('transform-origin','center center -'+ Math.tan(Math.PI/6)*100 +'px');
	
	var first = cnt.el().fit().css('border-box','border-box').css('border','1px #aaa solid').absolute();
	first.left('-100%');
	first.css('transform-origin','right center');
	first.css('-webkit-transform','rotateY(-120deg)');
	first.css('color','#ddd');
	first.html('first');
	
	var second = cnt.el().fit().css('border-box','border-box').css('border','1px #aaa solid').absolute();
	second.css('color','#ddd');
	second.html('second');
	
	var third = cnt.el().fit().css('border-box','border-box').css('border','1px #aaa solid').absolute();
	third.css('color','#ddd');
	third.left('100%');
	third.css('transform-origin','left center');
	third.css('-webkit-transform','rotateY(120deg)');
	third.html('third');
	
	var control = el.el().width('100%').height('20px').css('background-color','#333');
	var leftEl = control.el().display('inline-block').width('50%').height('100%').relative();
	var leftT = leftEl.el().addCls('triangle').absolute().top('4px').left('25px');
	leftEl.on('click',switchToLeft);
	
	var rightEl = control.el().display('inline-block').width('50%').height('100%').relative();
	var rightT = rightEl.el().addCls('triangle').css('-webkit-transform','rotateY(180deg)');
	rightT.absolute().top('4px').right('25px');
	rightEl.on('click',switchToRight);
	
	var deg = 0;
	function switchToLeft(){
		deg -= 120;
		cnt.css('-webkit-transform','rotateY('+deg+'deg)');
	}
	
	function switchToRight(){
		deg += 120;
		cnt.css('-webkit-transform','rotateY('+deg+'deg)');
	}

	function render(time){
		requestAnimationFrame(render);
		TWEEN.update(time);
	};

	requestAnimationFrame(render);
});
</script>
</head>
<body>
</body>
</html>