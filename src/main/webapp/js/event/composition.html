<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>learn</title>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
    var composing = false;

    var msgEl = document.getElementById('msg');
    var targetEl = document.getElementById('target');

    targetEl.addEventListener('input', function () {
        if (composing) {
            return;
        }
        msgEl.textContent = this.value;
    });

    //输入法弹出，发生在input事件之前
    targetEl.addEventListener('compositionstart', function () {
        console.log('..');
        composing = true;
    });

    //输入法关闭，发生在input事件之前
    targetEl.addEventListener('compositionend', function () {
        composing = false;
    });
});
</script>
</head>
<body>
<p>I say:&nbsp;<span id="msg"></span></p>
<input type="text" id="target"/>
</body>
</html>